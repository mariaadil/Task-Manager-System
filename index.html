<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task Manager App</title>
  <!-- Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <!-- Custom CSS -->
  <link href="style.css" rel="stylesheet">
</head>
<body>
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container">
        <a class="navbar-brand" href="#">Task Manager</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="#home">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#tasks">Tasks</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section id="home" class="jumbotron">
      <div class="container">
        <h1 class="display-4 fade-in">Welcome to Task Manager App</h1>
        <p class="lead zoom-in">A simple and effective way to manage your daily tasks.</p>
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
          </ol>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="https://projectsly.com/images/blog/task-management-tools.png?v=1677510513148747619" class="d-block w-100" alt="Slide 1">
            </div>
            <div class="carousel-item">
              <img src="https://darvideo.tv/wp-content/uploads/2021/10/Project-management-1.webp" class="d-block w-100" alt="Slide 2">
            </div>
            <div class="carousel-item">
              <img src="https://static.vecteezy.com/system/resources/thumbnails/011/860/408/small/project-management-business-briefing-planning-project-life-cycle-task-assignment-business-case-financial-data-report-set-flat-modern-illustration-vector.jpg" class="d-block w-100" alt="Slide 3">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      </div>
    </section>
  </header>

  <main>
    <section id="tasks" class="section">
      <div class="container">
        <div class="section-header">
          <h1 class="display-4">Tasks</h1>
        </div>
        <div id="tasks-list" class="row">
          <!-- Tasks will be dynamically added here -->
        </div>

        <form id="task-form" class="mt-4">
          <div class="form-group">
            <label for="task-description">Task Description</label>
            <textarea id="task-description" class="form-control" placeholder="Enter Task Description" rows="3" required></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Add Task</button>
        </form>
      </div>
    </section>

    <section id="about" class="section">
      <div class="container">
        <div class="section-header">
          <h1 class="display-4">About Task Manager App</h1>
        </div>
        <div class="about-content">
          <p class="lead">A simple and effective task management application.</p>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla convallis libero sit amet libero laoreet, non condimentum metus lobortis. Nulla facilisi. Proin dictum, erat in varius venenatis, nulla lacus tincidunt eros, id maximus lectus lectus in lorem.</p>
          <p>Donec pretium eget felis sed feugiat. Nam eget nulla eu tortor maximus cursus. Vestibulum ac blandit neque. Aliquam in nisi a mauris ultrices tincidunt. Fusce placerat dolor vitae nunc accumsan, vel hendrerit ex viverra.</p>
        </div>
      </div>
    </section>
    

    <section id="contact" class="section">
      <div class="container">
        <div class="section-header">
          <h1 class="display-4">Contact Us</h1>
        </div>
        <form id="contact-form" class="mt-4">
          <div class="form-group">
            <input type="text" id="name" class="form-control" placeholder="Your Name" required>
          </div>
          <div class="form-group">
            <input type="email" id="email" class="form-control" placeholder="Your Email" required>
          </div>
          <div class="form-group">
            <textarea id="message" class="form-control" placeholder="Your Message" rows="5" required></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Send Message</button>
        </form>
        <div id="submission-message" class="mt-3 text-success d-none">Submitted, thanks for your submission!</div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p class="mb-0">&copy; 2024 Task Manager App. All rights reserved.</p>
    </div>
  </footer>

  <!-- Bootstrap JS and dependencies -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <!-- Custom JavaScript -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
    const tasksList = document.getElementById('tasks-list');
    const taskForm = document.getElementById('task-form');
    const API_URL = 'https://jsonplaceholder.typicode.com/todos'; // Dummy API URL
    let tasks = []; // Initialize tasks as an array
  
    // Function to fetch tasks from API
    function fetchTasks() {
      fetch(API_URL)
        .then(response => response.json())
        .then(data => {
          tasks = data; // Update tasks array with fetched data
          renderTasks(tasks);
        })
        .catch(error => {
          console.error('Error fetching tasks:', error);
        });
    }
  
    // Function to render tasks
    function renderTasks(tasks) {
      tasksList.innerHTML = ''; // Clear previous tasks
  
      tasks.forEach(task => {
        const card = `
          <div class="col-md-4 mb-4">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">${task.title}</h5>
                <p class="card-text">${task.completed ? 'Completed' : 'Pending'}</p>
                <button type="button" class="btn btn-primary mr-2 edit-btn" data-id="${task.id}">Edit</button>
                <button type="button" class="btn btn-danger delete-btn" data-id="${task.id}">Delete</button>
              </div>
            </div>
          </div>
        `;
        tasksList.insertAdjacentHTML('beforeend', card);
      });
  
      // Attach event listeners to edit and delete buttons after rendering
      attachEditDeleteListeners();
    }
  
    // Function to attach event listeners to edit and delete buttons
    function attachEditDeleteListeners() {
      const editButtons = document.querySelectorAll('.edit-btn');
      const deleteButtons = document.querySelectorAll('.delete-btn');
  
      // Edit button click handler
      editButtons.forEach(button => {
        button.addEventListener('click', function() {
          const taskId = button.getAttribute('data-id');
          editTask(taskId);
        });
      });
  
      // Delete button click handler
      deleteButtons.forEach(button => {
        button.addEventListener('click', function() {
          const taskId = button.getAttribute('data-id');
          deleteTask(taskId);
        });
      });
    }
  
    // Function to handle editing a task
    function editTask(taskId) {
      // Fetch task details for editing
      fetch(`${API_URL}/${taskId}`)
        .then(response => response.json())
        .then(task => {
          // Display a modal or form to edit task details
          const updatedTitle = prompt('Enter updated task title:', task.title);
          if (updatedTitle !== null) {
            const updatedTask = { title: updatedTitle, completed: task.completed };
  
            fetch(`${API_URL}/${taskId}`, {
              method: 'PUT',
              body: JSON.stringify(updatedTask),
              headers: {
                'Content-type': 'application/json; charset=UTF-8',
              },
            })
              .then(response => response.json())
              .then(data => {
                console.log('Task updated:', data);
                // Update the task in the UI
                const updatedTaskIndex = tasks.findIndex(t => t.id === parseInt(taskId));
                tasks[updatedTaskIndex] = data;
                renderTasks(tasks); // Re-render tasks after editing
              })
              .catch(error => {
                console.error('Error updating task:', error);
              });
          }
        })
        .catch(error => {
          console.error('Error fetching task details:', error);
        });
    }
  
    // Function to delete a task by ID
    function deleteTask(taskId) {
      if (confirm('Are you sure you want to delete this task?')) {
        fetch(`${API_URL}/${taskId}`, {
          method: 'DELETE'
        })
          .then(response => {
            if (!response.ok) {
              throw new Error('Failed to delete task');
            }
            console.log('Task deleted successfully.');
            // Remove the task from the UI
            tasks = tasks.filter(task => task.id !== parseInt(taskId));
            renderTasks(tasks); // Re-render tasks after deletion
          })
          .catch(error => {
            console.error('Error deleting task:', error);
          });
      }
    }
  
    // Event listener for task form submission
    taskForm.addEventListener('submit', function(event) {
      event.preventDefault();
      const taskDescription = document.getElementById('task-description').value;
      const newTask = {
        title: taskDescription,
        completed: false
      };
  
      fetch(API_URL, {
        method: 'POST',
        body: JSON.stringify(newTask),
        headers: {
          'Content-type': 'application/json; charset=UTF-8',
        },
      })
        .then(response => response.json())
        .then(data => {
          console.log('New task added:', data);
          tasks.push(data); // Add new task to local tasks array
          renderTasks(tasks); // Refresh tasks after adding new task
          taskForm.reset();
        })
        .catch(error => {
          console.error('Error adding task:', error);
        });
    });
  
    // Initial fetch and render tasks
    fetchTasks();
  });
  

  </script>
</body>
</html>
